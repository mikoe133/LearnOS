## 一、JavaScript简介

**JavaScript**诞生于1995年。由美国的网景公司率先推出，最开始只是想实现网页上的表单验证等小功能，但是获得了巨大成功，称为现代互联网技术的重要基石。

直译式脚本语言（代码不用预编译，在程序的运行过程中逐行进行解释）
广泛用于客户端的脚本语言，在HTML网页上使用，用来给HTML网页增加动态功能，能在浏览器中实时浏览到交互效果。

## 二、JS基础

#### 1、js数据类型及转换规则

##### 五种基本类型

number	数字

string	字符串

boolean	布尔，只有两个值true（真）和false（假）

undefined	未定义值

null		空

##### 一种复合类型：object 对象

对象、数组

<img src="img/image-20221107134927670.png" alt="image-20221107134927670" style="zoom:80%;" />

#### 2、其他类型转换为布尔类型规则：

空字符串、undefined、null、数字0和NaN转换为false

非空字符串、非零数字、对象、数组转换为true

https://www.runoob.com/js/js-tutorial.html



#### 3、js 数组与对象

​	数组的定义：字面量[1,2,3]   new Array()

​	**必须掌握的数组方法：**

push()   在数组的尾部添加一个或多个数据

splice(index, number , item1..)   在数组的指定位置删除或添加一个或多个数据

indexOf()    查找数组中是否有指定项的内容，如果有返回其下标，如果没有返回-1

​	数组属性.  length

​	for...of  数组遍历

​	**建议复习掌握的数组方法：**

​	every()   find()  map()  filter() 



​	对象的定义

​    对象的添加删除

```js
  let obj = {
    name:"张三",
    age:20,
    sex:"男"
  }
  // 在对象添加属性
  // obj.height = 180; //点语法
   //推荐 中括号语法添加属性
   obj["height"] = "一米八"
  console.log( obj );
```

​	for...in  对象遍历

```js
  for(let item in obj){
    console.log( obj[item] );
  }
```



#### 4、JSON格式

​	JSON(JavaScript Object Notation) Javascript对象表示法。是一个结构化数据模式，可以保存较为复杂的数据。目前主要应用于服务器与客户端的通信。JSON仅仅是一种数据格式，不是编程语言，而且JSON和JavaScript并不是从属关系。例Java、php、Python等也利用JSON保存和传送数据。

JSON格式检查：https://tool.lu/c/developer

​						 http://tool.oschina.net/codeformat/json



1、JSON.stringify（） 把 JavaScript对象序列化为JSON字符串。JS数组或对象变JSON

2、JSON.parse（） 把JSON字符串解析为原始JavaScript数据对象

```js
  var json = '{"name":"jack"}';
  var json2 = [11,22,44];

// 1、JSON.stringify() 把 JavaScript对象序列化为JSON字符串。JS数组或对象变JSON
console.log( JSON.stringify(json2) );

// 2、JSON.parse() 把JSON字符串解析为原始JavaScript数据对象
console.log( JSON.parse(json) ); 
```

​	

## 三、ES6介绍

ECMAscript6.0(简称ES6),下一代的script的标准的泛称。2015年6月发布。ES6的目标是使JavaScript这门语言可以用来编写复杂的大型应用程序。成为企业级开发语言。

相比之前的版本，ES6更安全、更合理，更简洁。

![1-1ECMA版本](img/1-1ECMA%E7%89%88%E6%9C%AC.png)

#### 3.1  let声明变量

##### 1）var变量是函数作用域，let为块作用域

​	let 为块作用域，在if\for\等中声明变量仍然为局部变量。

##### 2）let变量必须先声明再使用

​	let变量未声明就使用直接报错，避免bug产生

##### 3）var 可以重复声明，let 不允许重复声明

​	在团队协同开发时，变量的重复声明在所难免，var的情况容易出现bug, 而let 直接报错，不会产生bug



#### 3.2  模板字符串

​	ES6提供了``(反引号)为模板字符串，其中可以添加html代码作为模板。模板中使用 ${} 嵌入变量或表达式

```js
  let score = [88,90,95]
  let str1 = "<div><ul><li>语文："+score[0]+"</li><li>数学："+ score[1] +"</li><li>英语："+ score[2] +"</li></ul></div>";
  // ES6新增的模板字符串：
  let str2 = ` 
  <div>
    <ul>
      <li>语文：${ score[0] }</li>
      <li>数学：${ score[1] }</li>
      <li>英语：${ score[2] }</li>
    </ul>
  </div>`;
```



#### 	3.3 对象扩展

​		1、属性名可简写

​		2、方法名简写

```js
  let username = "jack";
  let sex = "女";
  // ES6允许当对象的键名与对应的变量名一样的话可以简写
  let obj = {
    name:username,
    sex,
    // 对象的方法名简写
    say(){

    }
  }
```



#### 3.5 箭头函数

ES6为了简化语法，允许声明函数时使用箭头 => 来声明函数

```js
  let fn1 = function(a){
    return a+b
  }
  // 将匿名函数转写为箭头函数
  // 特点：
  // 1、将function替换为 =>
  // 2、假如函数只有一行代码，则大括号可以省略
  // 3、假如函数只有一行代码并且是return语句，则return也可以省略
  // 4、假如只有一个形参，则圆括号也可以省略（假如没有形参或者有多个形参，圆括号不可省略）
  let fn2 = (a,b)=>a+b;

  console.log( fn2(2,3) ); 
  console.log( fn2("a","b") );
```



复习： node中模块的向外暴露和模块加载语法

暴露： exports.xxx = xxx   module.exports = xxx

加载： require(模块名)



#### 3.6  解构赋值

​	

#### 4、ES6的模块化语法

​	export 导出 /  import 导入

​	向外导出有两种写法“

1） 默认导出

```js
let uname = "张三";
function demo() {
  console.log("大家好");
}
// 向外导出,将本模块内的变量和函数包装在对象中向外导出
 export default {
   uname,
   demo
 }

// 默认导出后，在其他模块的导入的写法
import demo from "./demo.js"
```



2) 具名导出

```js
let uname = "张三";
function demo() {
  console.log("大家好");
}

export {
  uname,
  demo
}

//具名导出后，在其他模块的导入的写法
import {uname,demo} from "./deom.js"
```



## 五、 Ajax介绍

### 5.1 ajax简介

Ajax （Async JavaScript And XML）， 不是一种新的编程语言，而是一种用于创建更好更快以及交互性更强的Web应用程序的技术。2005年左右，由GOOGLE在其产品中的大量应用开始风靡全世界。

通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。Ajax最大的优势在于可以在不重新加载整个网页的情况下，对网页的某部分进行更新。

ajax技术目前广泛应用在前后端分离的开发模式中，可以实现实时更新网页的交易信息、注册验证、分页等等。

![05-1传统请求](img/05-1%E4%BC%A0%E7%BB%9F%E8%AF%B7%E6%B1%82.jpg)

![05-2ajax请求方式](img/05-2ajax%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F.jpg)

### 5.2 axios 基本使用

axios官网：https://www.axios-http.cn/docs/intro

语法：

基本写法：

 axios({

​	url:"/getShortVideo"   //要请求的接口地址

​	baseURL: "https://api.apiopen.top/api",  //服务器的地址

​	method: "get",  //请求方法，例如get\post

   // 请求接口时提交的参数

   params: {

​    page: page,  //页码

​    size: 10  //每页返回的记录数

   }

}).then( function( res ){

​	//res 为服务器返回来的数据自动填充在res中

​	// 前端开发人员在此拿到数据，遍历数据并渲染页面

} )



​	案例： 使用ajax 获取服务器上的数据

​	接口：https://api.apiopen.top/swagger/index.html#/开放接口/get_api_getImages

​	参数：

​	type：animal, beauty, car, comic, food, game, movie, person, phone, scenery

​	page：页面，默认值0

​	size：返回总数，默认值10

​	例如：返回动物类的壁纸图片10张

​	https://api.apiopen.top/api/getImages?type=animal&page=0&size=10



### 5.3 综合练习: ajax获取服务器数据并渲染页面

第一步：写好静态网页效果

第二步：实现ajax封装函数

第三步：实现上下分页效果

第四步，实现视频播放效果