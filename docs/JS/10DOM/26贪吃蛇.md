```js
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        #main{
            height: 420px;
            width: 360px;
            border: 10px #000 solid;
            background-color: #9ae8c1;
            border-radius: 20px;
            margin: 50px auto;
        }
        #stage{
            width: 304px;
            height: 302px;
            border: 2px solid #000;
            margin: 20px auto;
            position: relative;
        }
        #snake>div{
            width: 10px;
            height: 10px;
            background-color: #000;
            position: absolute;
            border: 1px solid #9ae8c1 ;
        }
        #food{
            width: 10px;
            height: 10px;
            position: absolute;
            top: 100px;
            left: 120px;
            display: flex;
            flex-flow: wrap;
        }
        #food>div{
            width: 5px;
            height: 5px;
            background-color: #000;
            transform: rotate(45deg);
            border: 1px solid #9ae8c1 ;
        }
        #info{
            width: 304px;
            margin: 0px auto;
            display: flex;
            justify-content: space-between;
            font: bold 15px courier;
        }
    </style>
</head>
<body>
    <div id="main">
        <div id="stage">
            <div id="snake">
                <div></div>
            </div>
            <div id="food">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <div id="info">
            <div>雷🐍length: <span  id="score">0</span></div>
            <div>雷神score: <span  id="level">1</span></div>
        </div>
    </div>
</body>
<script>
    //获取蛇
    const snake = document.getElementById('snake')
    const snakes = snake.getElementsByTagName("div")
    const head = snakes[0]
    //获取食物
    const food = document.getElementById('food')
    //获取分数和等级
    const scorespan = document.getElementById('score')
    const levelspan = document.getElementById('level')
    let score = 0
    let level = 0
    //随机生成食物
    function changeFood(){
        // 坐标在0-290
        const x = Math.floor(Math.random()*30)*10
        const y = Math.floor(Math.random()*30)*10
        console.log(x,y);
        food.style.left = x +"px"
        food.style.top = y +"px"
    }
    changeFood()
    //定义变量存储蛇的移动方向
    let dir
    //记录按键状态
    let keyactive = true
    const KeyArr = ["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"]
    //创建一个掉头对象
    const  reobj = {
        "ArrowUp":"ArrowDown",
        "ArrowDown":"ArrowUp",
        "ArrowRight":"ArrowLeft",
        "ArrowLeft":"ArrowRight"
    }
    // 绑定按键  键盘事件可以绑定给可获取焦点的元素或者document
    document.addEventListener("keydown",function (event){
        if(keyactive&& KeyArr.includes(event.key)){
            //判断蛇是否掉头
            if(snakes.length<2){
                //设置方向
                dir = event.key
            }else{
                if(reobj[dir]!==event.key){
                    dir = event.key
                    keyactive = false
                }
            }

        }

    })
    let isgameover = false
    setTimeout(function move(){
        //获取蛇头
        const  head = snakes[0]
        //获取蛇头坐标
        let x = head.offsetLeft
        let y = head.offsetTop
        //通过事件对象读取按得键盘
        switch(dir){
            case "ArrowUp":
                console.log("上");
                y = y - 10 
                break
            case "ArrowDown":
                console.log("下");
                y+=10
                break
            case "ArrowRight":
                console.log("右");
                x+=10
                break
            case "ArrowLeft":
                console.log("左");
                x-=10
                break
        }
        //检查是否吃到食物
        if(head.offsetTop==food.offsetTop&&head.offsetLeft == food.offsetLeft){
            console.log("吃到了");
            //改变食物位置
            changeFood()
            // 增加身体
            snake.insertAdjacentHTML("beforeend","<div/>")
            score++
            scorespan.textContent = score
            //检查等级
            if(score%4 ===0&&level<14){
                level++
                levelspan.textContent = level+1
            }
        }
        //判断游戏是否结束
        //是否撞墙
        if(x<0||x>290||y<0||y>290){
            alert("雷🐍牺牲!")
            return
        }
        //判断是否撞到自己
        for(let i = 0;i<snakes.length-1;i++){
            if(snakes[i].offsetLeft===x&&snakes[i].offsetTop===y){
                alert("雷蛇吃自己!")
                return
            }
        }
        //获取尾巴
        const tail = snakes[snakes.length-1]
        //移动蛇的位置
        tail.style.left =x + "px"
        tail.style.top =y + "px"
        //尾巴移动到蛇头
        snake.insertAdjacentElement("afterbegin",tail)
        keyactive = true

        setTimeout(move,300-level*20)
    },300)
</script>
</html>
```

