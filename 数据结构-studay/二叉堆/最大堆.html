<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        class MinHeap {
            constructor() {
                this.heap = []
            }
            getLeftIndex(index) {
                return 2 * index + 1
            }
            getRightIndex(index) {
                return 2 * index + 2
            }
            insert(value) {
                if (value != null) {
                    this.heap.push(value)
                    this.shiftUp(this.heap.length - 1)
                    return true
                }
            }
            getParentIndex(index) {
                return Math.floor((index - 1) / 2)
            }
            shiftUp(index) {
                if (index == 0) return
                let parent = this.getParentIndex(index)
                while (this.heap[index] < this.heap[parent] && index > 0) {
                    this.swap(this.heap, parent, index)
                    index = parent
                    parent = this.getParentIndex(index)
                }
            }
            swap(arr, a, b) {
                const temp = arr[a]
                arr[a] = arr[b]
                arr[b] = temp
            }
            size() {
                return this.heap.length
            }
            isEmpty() {
                return this.size() == 0
            }
            findTarget() {
                return this.heap[0]
            }
            extract() {
                if (this.isEmpty()) return null
                if (this.size() == 1) return this.heap.shift()
                const removed = this.heap[0]
                this.heap[0] = this.heap.pop()
                this.shiftDown(0)
                return removed
            }
            shiftDown(index) {
                let current  = index
                let left = this.getLeftIndex(index)
                let right = this.getRightIndex(index)
                if (left < this.size() && this.heap[left] < this.heap[current]) {
                    current = left
                }
                if (right < this.size() && this.heap[right] < this.heap[current]) {
                    current = right
                }
                if(index!=current){
                    this.swap(this.heap,index,current)
                    this.shiftDown(current)
                }
            }
        }
        class MaxHeap extends MinHeap {
            constructor() {
                super()
            }
            shiftUp(index) {
                if (index == 0) return
                let parent = this.getParentIndex(index)
                while (this.heap[index] > this.heap[parent] && index > 0) {
                    this.swap(this.heap, parent, index)
                    index = parent
                    parent = this.getParentIndex(index)
                }
            }
            shiftDown(index) {
                let current  = index
                let left = this.getLeftIndex(index)
                let right = this.getRightIndex(index)
                if (left < this.size() && this.heap[left] > this.heap[current]) {
                    current = left
                }
                if (right < this.size() && this.heap[right] > this.heap[current]) {
                    current = right
                }
                if(index!=current){
                    this.swap(this.heap,index,current)
                    this.shiftDown(current)
                }
            }
        }
        var heap = new MinHeap()
        heap.heap.push(10)
    </script>
</body>

</html>